<%- include ('../partials/head') %>
<%- include ('../partials/menu') %>

<main>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
      </head>
  <div class="container">
    <!-- THE REST OF YOUR HTML CODE GOES HERE -->
    <div class="d-flex justify-content-center" style="margin-top: 2%;margin-bottom: 5%;"id="hobbies">
            <div class="col-2" style="padding-top: 5%;">
                <div class="row">
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Type of Pet
                        </button>
                        <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="/discover?species=dog">Dog</a></li>
                        <li><a class="dropdown-item" href="/discover?species=cat">Cat</a></li>
                        <li><a class="dropdown-item" href="/discover">Any</a></li>
                        </ul>
                    </div>
                </div>
                <div class="row" style="padding-top: 10%;">
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Breed
                        </button>
                        <ul class="dropdown-menu">
                        <% if(species = 'dog'){%>
                        <li><a class="dropdown-item" href="/discover?species=dog&breed=chihuahua">Chihuahua</a></li>
                        <li><a class="dropdown-item" href="/discover?species=dog">Any</a></li>
                        <%}
                            else{%>
                            <li><a class="dropdown-item" href="/discover?species=cat&breed=Domestic Short Hair">Domestic Short Hair</a></li>
                            <li><a class="dropdown-item" href="/discover?species=cat">Any</a></li>
                        <%}%>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-10">
                <div class="row">
                    <%results.data.animals.forEach(pet =>{
                        if(pet.photos.length >0){%>
                    <div class="col" style="padding-top: 5%;">
                        <div class="card" style="width: 18rem; text-align: center;" id="hobby-card-3">
                            <img src="<%=pet.primary_photo_cropped.small%>" class="card-img-top" alt="..." width="275" height="183">
                            <div class="card-img-overlay" style = "text-align: right; height: 11.5rem;">
                                <a type="button" href="<%=pet.url%>" class="btn btn-light" style="color: pink; background-color: grey; shape-outside: circle();" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
                                    </svg>
                                </a>
                            </div>
                            <div class="card-body">
                                <h5 class="card-title"><%=pet.name%></h5>
                                <p>Species: <%=pet.type%></p>
                                <p>Breed: <%=pet.breeds.primary%></p>
                                <a type="button" href="<%=pet.url%>" class="btn btn-primary" target="_blank">More Info</a> 
                            </div>
                        </div>
                    </div>
                    <% }
                });%>
                </div>
            </div>
      </div>
  </div>
</main>

<%- include ('../partials/footer') %>